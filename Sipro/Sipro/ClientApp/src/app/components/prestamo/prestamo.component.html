<div id="body-pagina" class="row">
    <div class="column-left left">
    </div>
    <div class="column middle">
      <mat-card style="margin-top: 2%; background-color: #f5f5f5; border-color: #ddd;">
          Información General de Préstamos
      </mat-card>
      <br>
      <div [hidden]="esColapsado">
          <div style="width: 100%; text-align: right;">
            <button mat-raised-button style="background-color: #337ab7; color:#fff" (click)="nuevo()"><mat-icon>add</mat-icon>Nuevo</button>
            <button mat-raised-button style="background-color: #337ab7; color: #fff;" (click)="editar()"><mat-icon>mode_edit</mat-icon>Editar</button>
            <button mat-raised-button style="background-color: #d9534f; color: #fff;" (click)="borrar()"><mat-icon>delete</mat-icon>Borrar</button>
          </div>
          <br>
          <div style="width: 100%; text-align: right;">
            <button mat-raised-button style="min-width: 35px; border-color: #ccc; color:#333" (click)="refresh()"><mat-icon>refresh</mat-icon></button>
          </div>
          <br>
          <div>
              <ng2-smart-table [settings]="settings" [source]="source" (dblClickRow)="onDblClickRow($event)" (userRowSelect)="onSelectRow($event)"></ng2-smart-table>              
          </div>
          <br>
          <div style="width: 100%; text-align: right; font-weight: bold;">
            Total de Préstamos: {{totalPrestamos}}
          </div>
          <div>
            <mat-paginator [length]="totalPrestamos" [hidePageSize]="true" [pageSize]="elementosPorPagina" 
            [showFirstLastButtons]="true" (page)="pageEvent = handlePage($event)">
            </mat-paginator>
          </div>
      </div>
      
      <div [hidden]="!esColapsado">
        <div style="width: 100%; text-align: right;">
          <div class="nuevo-edicion">
              <label>{{esnuevo == true ? 'Nuevo Préstamo' : 'Edición de Préstamo'}}</label>
          </div>
          <div>
              <button mat-raised-button style="background-color: #5cb85c; color:#fff; border-color: #4cae4c" (click)="guardar()"><mat-icon>save</mat-icon>Guardar</button>
              <button mat-raised-button style="background-color: #337ab7; color: #fff;" (click)="IrATabla()"><mat-icon>list</mat-icon>Ir a Tabla</button>
          </div>
          <br>
          <div>
            <mat-card>
                <mat-card-content>
                    <mat-tab-group class="demo-tab-group">
                        <mat-tab label="Préstamo">
                          <div class="demo-tab-content">
                            <div class="form-group">
                                <label class="label-id">ID {{prestamo.id}}</label>
                            </div>
                            <br><br>
                            <div class="row">
                                <div class="col-sm-12">
                                    <mat-form-field>                                        
                                        <input class="search-info" [(ngModel)]="prestamo.codigoPresupuestario" matInput placeholder="* Código presupuestario" [readonly]="true" 
                                          (click)="buscarCodigoPresupuestario()">
                                        <mat-icon class="search-info" matSuffix (click)="buscarCodigoPresupuestario()">search</mat-icon>
                                    </mat-form-field>
                                </div>                                
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <mat-form-field>
                                        <input [(ngModel)]="prestamo.numeroPrestamo" matInput placeholder="* Número de @project_tag">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                              <div class="col-sm-12">
                                  <mat-form-field>
                                      <input [(ngModel)]="prestamo.proyectoPrograma" matInput placeholder="* Proyecto/Programa">
                                  </mat-form-field>
                              </div>
                            </div> 
                            <div class="row">
                              <div class="col-sm-12">
                                  <mat-form-field>
                                      <input [(ngModel)]="prestamo.cooperantenombre" matInput placeholder="* Organismo Financiero Internacional">
                                  </mat-form-field>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-sm-12">
                                  <mat-form-field>
                                      <input [(ngModel)]="prestamo.sectorEconomico" matInput placeholder="Sector Económico">
                                  </mat-form-field>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-sm-4">
                                <mat-form-field>
                                  <input matInput [matDatepicker]="fechaElegibilidadUe" placeholder="* Fecha de Elegibilidad" [value]="prestamo.fechaElegibilidadUe" [(ngModel)]="prestamo.fechaElegibilidadUe">
                                  <mat-datepicker-toggle matSuffix [for]="fechaElegibilidadUe"></mat-datepicker-toggle>
                                  <mat-datepicker #fechaElegibilidadUe></mat-datepicker>
                                </mat-form-field>
                              </div>
                            </div>                
                            <br>
                          </div>
                        </mat-tab>
                        <mat-tab label="Presupuesto">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                        <mat-tab label="Unidades Ejecutoras">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                        <mat-tab label="Componentes">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                        <mat-tab label="Distribución de Unidad Ejecutora">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                        <mat-tab label="Indicadores">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                        <mat-tab label="Riesgos">
                          <div class="demo-tab-content">
                          </div>
                        </mat-tab>
                    </mat-tab-group>
                </mat-card-content>
            </mat-card>
          </div>
          <br>
          <div>
              <button mat-raised-button style="background-color: #5cb85c; color:#fff; border-color: #4cae4c" (click)="guardar()"><mat-icon>save</mat-icon>Guardar</button>
              <button mat-raised-button style="background-color: #337ab7; color: #fff;" (click)="IrATabla()"><mat-icon>list</mat-icon>Ir a Tabla</button>
          </div>
        </div>
      </div>
    </div>
    <div class="column-right right">
    </div>
  </div>



